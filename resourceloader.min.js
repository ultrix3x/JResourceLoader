(function(l,m,e,n){var g={text:"1.0.0",major:1,minor:0,sub:0},p=function(f,e,b,k){Date.now=Date.now||function(){return(new Date).getTime()};b.version=g;b.storage={};f.localStorage?(b.storage.get=function(c,a){a==k&&(a=3600);a*=1E3;var d=f.localStorage.getItem(c);if(null!=d)try{var h=JSON.parse(d);if(h&&h.timestamp&&h.timestamp+a>=Date.now())return h.data}catch(b){}return null},b.storage.set=function(c,a){var d=JSON.stringify({timestamp:Date.now(),data:a});f.localStorage.setItem(c,d)}):f.sessionStorage&&
(b.storage.get=function(c,a){a==k&&(a=3600);a*=1E3;var d=f.sessionStorage.getItem(c);if(null!=d)try{var b=JSON.parse(d);if(b&&b.timestamp&&b.timestamp+a>=Date.now())return b.data}catch(e){}return null},b.storage.set=function(c,a){var d=JSON.stringify({timestamp:Date.now(),data:a});f.sessionStorage.setItem(c,d)});b.load=function(c,a){var d;if("string"==typeof c){a=a||{};a.loadCount=a.loadCount||0;a.loadedFrom=null;if(a.test)if(a.test.call){if(a.test.call(this,a))return a.loadedFrom="notLoaded/test",
this}else if(a.test)return a.loadedFrom="notLoaded/test",this;a.rawsrc=c;c.match(/^js\!/g)?(c=c.substring(3,c.length),d="js"):c.match(/^css\!/g)?(c=c.substring(4,c.length),d="css"):d=c.match(/\.css$/g)?"css":"js";a.cacheName=!0===a.cache?c.replace(/[^a-zA-Z0-9]/g,"_"):!1;a.src=c;"js"==d?this._loadScript(c,a):"css"==d&&this._loadStyle(c,a)}else if("object"==typeof c)for(d in c)this.load(c[d]);return this};b._loadScript=function(c,a){var d=null;a=a||{};if(!1!==a.cacheName&&(d=this.storage.get(a.cacheName,
a.cacheTimeout),null!=d))return a.loadedFrom="cache",b._appendScript(d,a);b._fetchData(c,a,b._appendScript)};b._appendScript=function(c,a){var d=e.getElementsByTagName("head")[0],b=e.createElement("script");b.appendChild(e.createTextNode(c));d.appendChild(b);a.loadCount--;a&&a.complete&&a.complete.call&&a.complete.call(a.self,a)};b._loadStyle=function(c,a){var d=null;a=a||{};if(!1!==a.cacheName&&(d=this.storage.get(a.cacheName,a.cacheTimeout),null!=d))return a.loadedFrom="cache",b._appendStyle(d,
a);b._fetchData(c,a,b._appendStyle)};b._appendStyle=function(c,a){var d=e.getElementsByTagName("head")[0],b=e.createElement("style");b.appendChild(e.createTextNode(c));d.appendChild(b);a.loadCount--;a&&a.complete&&a.complete.call&&a.complete.call(a.self,a)};b._fetchData=function(c,a,d){a.self=this;if(f.jQuery)f.jQuery.ajax({url:c,dataType:"text",success:function(b){a&&!1!==a.cacheName&&a.self.storage.set(a.cacheName,b);a.loadedFrom="web/jquery";d&&d.call?d.call(a.self,b,a):a&&a.complete&&a.complete.call&&
a.complete.call(a.self,c,a)}});else if(f.XMLHttpRequest){var b=new f.XMLHttpRequest;a.loadCount++;b.onreadystatechange=function(){if(4==b.readyState){a.loadedFrom="web/xhr";var c=b.responseText;a&&!1!==a.cacheName&&a.self.storage.set(a.cacheName,c);d&&d.call&&d.call(a.self,c,a)}};b.open("GET",c,!0);b.send(null)}};b.getVersion=function(){return this.version.text};f.resourceLoader=b};if(e.version==n||e&&e.version&&(e.version.major<g.major||e.version.major==g.major&&(e.version.minor<g.minor||e.version.minor==
g.minor&&e.version.sub<g.sub)))return p(l,m,e)})(window,document,window.resourceLoader||{});